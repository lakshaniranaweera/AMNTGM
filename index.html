<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Amante Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body,html {
      margin:0;
      height:100%;
      background:black;
      color:white;
      text-align:center;
    }
    .hidden { display:none; }
    .fullscreen {
      height:100%;
      width:100%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      position:fixed;  /* ✅ ensures it covers everything */
      top:0;
      left:0;
      background:black; /* ✅ solid background so quiz never shows through */
      z-index:10;
    }
    .confetti {
      position:absolute;
      width:10px;height:10px;
      background:yellow;
      animation:fall 4s linear infinite;
    }
    @keyframes fall { to { transform:translateY(100vh) rotate(360deg);} }
    .star {
      position:absolute;
      color:gold;
      animation:twinkle 2s infinite;
    }
    @keyframes twinkle { 50%{opacity:0;} }
    button {
      padding:15px 25px;
      font-size:22px;
      border:none;
      border-radius:8px;
      background:#28a745;
      color:#fff;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <!-- Lock Screen -->
  <div id="lockScreen" class="fullscreen" style="z-index:5;">
    <h1>Welcome to Amante Quiz</h1>
    <button id="startBtn">Start</button>
  </div>

  <!-- Quiz Page -->
  <div id="quizPage" class="fullscreen hidden" style="z-index:5;">
    <div id="questionContainer">
      <h2 id="questionText"></h2>
      <div id="answerButtons"></div>
    </div>
  </div>

  <!-- Result Pages -->
  <div id="perfectScoreContainer" class="fullscreen hidden"><h1>🎉 Perfect! 3/3 🎉</h1></div>
  <div id="goodScoreContainer" class="fullscreen hidden"><h1>👏 Good Job! 2/3 👏</h1></div>
  <div id="basicScoreContainer" class="fullscreen hidden"><h1>🙂 You got 1/3 🙂</h1></div>
  <div id="incorrectScoreContainer" class="fullscreen hidden"><h1>❌ Better Luck Next Time ❌</h1></div>

  <script>
    document.addEventListener("DOMContentLoaded",()=>{
      const lockScreen=document.getElementById("lockScreen");
      const startBtn=document.getElementById("startBtn");
      const quizPage=document.getElementById("quizPage");
      const questionText=document.getElementById("questionText");
      const answerButtons=document.getElementById("answerButtons");

      const perfectScoreContainer=document.getElementById("perfectScoreContainer");
      const goodScoreContainer=document.getElementById("goodScoreContainer");
      const basicScoreContainer=document.getElementById("basicScoreContainer");
      const incorrectScoreContainer=document.getElementById("incorrectScoreContainer");

      let currentQuestionIndex=0;
      let score=0;
      let userAnswers=[];

      const questions=[
        {question:"What is the capital of France?",answers:["Paris","London","Berlin"],correct_answer:"Paris"},
        {question:"Which planet is known as the Red Planet?",answers:["Earth","Mars","Venus"],correct_answer:"Mars"},
        {question:"What is 2 + 2?",answers:["3","4","5"],correct_answer:"4"}
      ];

      startBtn.addEventListener("click",()=>{
        lockScreen.classList.add("hidden");
        quizPage.classList.remove("hidden");
        currentQuestionIndex=0;score=0;userAnswers=[];
        showQuestion();
      });

      function showQuestion(){
        let q=questions[currentQuestionIndex];
        questionText.textContent=q.question;
        answerButtons.innerHTML="";
        q.answers.forEach(ans=>{
          let btn=document.createElement("button");
          btn.classList.add("btn","btn-primary","m-2");
          btn.textContent=ans;
          btn.onclick=()=>selectAnswer(ans);
          answerButtons.appendChild(btn);
        });
      }

      function selectAnswer(ans){
        userAnswers.push(ans);
        currentQuestionIndex++;
        if(currentQuestionIndex<questions.length){showQuestion();}
        else{showResults();}
      }

      function showResults(){
        score=questions.reduce((t,q,i)=>t+(userAnswers[i]===q.correct_answer?1:0),0);

        // ✅ Always hide quiz page first
        quizPage.classList.add("hidden");

        if(score===3){
          perfectScoreContainer.classList.remove("hidden");
          createConfetti(perfectScoreContainer,100,'gold');
          createStars(perfectScoreContainer,15);
          setTimeout(returnToLockScreen,7000);
        } else if(score===2){
          goodScoreContainer.classList.remove("hidden");
          createConfetti(goodScoreContainer,70,'#FFA500');
          setTimeout(returnToLockScreen,7000);
        } else if(score===1){
          basicScoreContainer.classList.remove("hidden");
          createConfetti(basicScoreContainer,40,'#4CAF50');
          setTimeout(returnToLockScreen,7000);
        } else {
          incorrectScoreContainer.classList.remove("hidden");
          setTimeout(returnToLockScreen,3000); // ⏳ Try Again only 3s
        }
      }

      function createConfetti(container,count,color){
        for(let i=0;i<count;i++){
          let c=document.createElement("div");
          c.classList.add("confetti");
          c.style.backgroundColor=color;
          c.style.left=Math.random()*100+"%";
          c.style.top="-10px";
          c.style.width=Math.random()*8+4+"px";
          c.style.height=c.style.width;
          c.style.opacity=Math.random();
          c.style.animationDuration=3+Math.random()*2+"s";
          container.appendChild(c);
          setTimeout(()=>c.remove(),5000);
        }
      }

      function createStars(container,count){
        for(let i=0;i<count;i++){
          let s=document.createElement("div");
          s.classList.add("star");
          s.innerHTML="★";
          s.style.left=Math.random()*100+"%";
          s.style.top=Math.random()*100+"%";
          s.style.fontSize=(Math.random()*1.5+1)+"rem";
          container.appendChild(s);
          setTimeout(()=>s.remove(),3000);
        }
      }

      function returnToLockScreen(){
        [perfectScoreContainer,goodScoreContainer,basicScoreContainer,incorrectScoreContainer]
          .forEach(c=>c.classList.add("hidden"));
        lockScreen.classList.remove("hidden");
      }
    });
  </script>
</body>
</html>
